language: 
  - cpp
  - python

cpp: c++11

python: "3.8"

compiler: g++ 

#before_install: |
#  if ! [ -f sdsl-lite/ ]; then
#    git clone https://github.com/simongog/sdsl-lite.git;
#    cd sdsl-lite/;
#    ./install.sh;
#  fi

# cache:
#  directories:
#    - sdsl-lite/

install:
#- cd ~/
#- mkdir include
#- git clone https://github.com/simongog/sdsl-lite.git
#- git clone https://github.com/martinmoene/lest.git
#- cd sdsl-lite
#- ./install.sh
#- cd ../
#- cp -r ./sdsl-lite/include/sdsl ./include
#- cp -r ./lest/include/lest ./include
- git clone --recurse-submodules https://github.com/yoann-dufresne/ConwayBromageLib.git
   
script:
  - cd $TRAVIS_BUILD_DIR #là où est contenu notre code ( pas  sdsl-lite )
  #- cd sample_generation/
  - ls
  - cd ConwayBromageLib
  - ls
  - python3 generate_counts.py -k 4 -n 200 > sorted_kmers.txt
  - sort sorted_kmers.txt -o sorted_kmers.txt
  #- cp sorted_kmers.txt ../sorted_kmers.txt
  #- cd ../
  - ls
  - cmake CMakeLists.txt
  - make
  - ./ConwayBromageLib
  #- g++ -Wall -Wextra -std=c++11 -Dlest_FEATURE_AUTO_REGISTER=1 -Dlest_FEATURE_COLOURISE=1 -O3 -DNDEBUG -I ~/include -L ~/lib -o Tests.exe Tests.cpp ConwayBromageLib.cpp -lsdsl -ldivsufsort -ldivsufsort64
  #- ./Tests.exe
  
