language: 
  - cpp
  - python

cpp: c++11

python: "3.6"

compiler: g++

#before_install: |
#  if ! [ -f sdsl-lite/ ]; then
#    git clone https://github.com/simongog/sdsl-lite.git;
#    cd sdsl-lite/;
#    ./install.sh;
#  fi

#cache:
#  directories:
#    - sdsl-lite/

install:
  - git clone https://github.com/simongog/sdsl-lite.git
  - cd sdsl-lite
  - ./install.sh

script:
  - cd $TRAVIS_BUILD_DIR #là où est contenu notre code ( pas  sdsl-lite )
  - python3 gen.py -k 2 -n 16 | sort > sorted_kmers.txt
  - g++ -std=c++11 -O3 -DNDEBUG -I ~/include -L ~/lib main.cpp ConwayBromageLib.cpp Tests.cpp -o CBl -lsdsl -ldivsufsort -ldivsufsort64
  - ./CBl 